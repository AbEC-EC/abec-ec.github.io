<!DOCTYPE html>
<html>
  <head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JGW6MNEWGH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JGW6MNEWGH');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <title>AbEC | Use</title>

    <script src="scramble.js"></script>
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script>
		MathJax = {
		tex: {
		  tags: 'ams'  // should be 'ams', 'none', or 'all'
		}
		};
	</script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <link rel="icon" href="images/luffy-smile-rb.png" />
    <link rel="shortcut icon" href="images/luffy-smile-rb.png" />
    <link rel="stylesheet" type="text/css" href="style2.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/hack-font/3.3.0/web/hack.min.css"
      integrity="sha512-XgCw4Srl8lC1ECwcaHwAU0WnxQwHkqmInzg9wJLtGB7DRuMaXPuK2k9WJ2AwRDGdrgK9eJpZl2hUlLi2WQssmw=="
      crossorigin="anonymous"
    />
	<style>
		h1 {
			text-align: center;
			background: #EEEEEE;
			padding: .2em 1em;
			border-top: 3px solid #666666;
			border-bottom: 3px solid #999999;
		}
  </style>
  </head>

<body>
<section>
<pre>

<div style="float: left">USE(1)</div><div style="float: right">USE(1)</div><div style="margin: 0 auto; width: 100%; text-align: center"><span id="top">AbEC - How to use</span></div>
<div id="google_translate_element"></div>
> <a href="index.html">[ Home ]</a>

<script type="text/javascript">
function setCookie(key, value, expiry) {
  var expires = new Date();
  expires.setTime(expires.getTime() + (expiry * 24 * 60 * 60 * 1000));
  document.cookie = key + '=' + value + ';expires=' + expires.toUTCString();
}
</script>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="top"> Overview</span>
</div>
<div id="divName"> 
After cloning the repository in our computer, we already have enough to run the framework. The directory created is <b><i>AbEC</i></b>, and inside of it contains all the files needed to configure and to use the framework..
<br>
As a adjustable framework, we need to configure it before use. This configuration is made through three configuration files, where we can set which components and what values for the hyper-parameters we want to use.
These files are:
 <ul>
  <li><b><span style="color:white">algoConfig.ini:</span></b> Where it is the configuration related to the functioning of the algorithm itself (e.g. Population size, optimizers, ...).</li><br>
  <li><b><span style="color:white">frameConfig.ini:</span></b> Where it is the configuration of the framework parameters (e.g. number of runs, path of the files, number of evaluations, ...).</li><br>
  <li><b><span style="color:white">problemConfig.ini:</span></b> Where it is the configuration of problem (e.g. number of dimensions, dynamic or not, ...).</li><br>
    </ul> 

These files are located in <b><i><span style="color:white">AbEC/abec/</span></i></b>. After cloning the repository:
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> cd AbEC/abec</span><br>
    	</code>
    	<hr>
	</div>
    <br><br>
Below a description and how to use these files is made.

</div>
<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="top"> Configuration files</span>
</div>
<div id="divSynopsis"> 

 As a default configuration, the parametrization of the <i>frameConfig.ini</i> and <i>problemConfig.ini</i> files showed in the below explanation is used. This means that if any these
 configuration files is not found, the default configuration of their will be used. 
<br><br>
    In that way, the only mandatory file is the <i>algoConfig.ini</i>.
<br><br>
    When editing the configurations file, you just need to include the parameters that you want to set, the others are set by default.
	For the boolean configurations (<i>bool</i>), unless the opposite is said, 1 means enabled and 0 means disabled.

	<h1 style="color: orange">> algoConfig.ini</h1>
	<p> This is the main configuration file, where we are going to set which optimizers, components and hyper-parameters, that it will compose our algorithm. Below it is the entire file and a description of each line and how to set it (in this file, for example, it is configured the algorithm Particle Swarm Optimization, known as PSO).
	> <a href="algoConfig.ini" target="_blank">[ file ]</a>

	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"__COMMENT__": "BASIC CONFIGURATION",</span><br>
	<span style="color: white">"ALGORITHM": "PSO",</span> <span style="color: gold; font-size: 14px" >-> Name you want to give the algorithm. (</i>char</i>)</span><br>
	<span style="color: white">"POPSIZE": 50,</span></span> <span style="color: gold; font-size: 14px">-> Number of individuals in the population. If there are more than one population, this number applies for each subpopulation. (<i>int</i>)</span><br>
	<span style="color: white">"MIN_POS": -10,</span></span> <span style="color: gold; font-size: 14px">-> Min value of the search space. (<i>int</i>)</span><br>
	<span style="color: white">"MAX_POS": 10,</span></span> <span style="color: gold; font-size: 14px">-> Max value of the search space. (<i>int</i>)</span><br>
	<span style="color: white">"__COMMENT__": "OPTIMIZER CONFIGURATION",</span><br>
	<span style="color: white">"GA_POP_PERC": 0,</span></span> <span style="color: gold; font-size: 14px">-> Percentage of the individuals in the population that it will perform the <i>Genetic Algorithm (GA)</i>. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"GA_ELI_PERC": 0.2,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter percentage of the elit in the GA population. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"GA_CROSS_PERC": 1,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter percentage of the population to consider in GA population when applies the crossover. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"GA_MUT_PERC": 0.1,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter probability of the mutation in the GA population. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"GA_MUT_STD": 1,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter standard deviation of the normal distribution used in the mutation. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"GA_ENCODER": 0,</span></span> <span style="color: gold; font-size: 14px">-> Use encoder in the GA individuals. If used, the values of the individuals will be converted into binary and the operators will apply in the bit level. (<i>bool</i>)</span><br>
	<span style="color: white">"GA_INDSIZE": 16,</span></span> <span style="color: gold; font-size: 14px">-> If using encoder, the size of the individuals, number of bits to represent each dimension. (<i>int</i>) in <i>[1, 64]</i></span><br>
	<span style="color: white">"PSO_POP_PERC": 1,</span></span> <span style="color: gold; font-size: 14px">-> Percentage of the individuals in the population that it will perform the <i>Particle Swarm Optimization (PSO)</i>. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"PSO_PHI1": 2.05,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter &sigma;<sub>1</sub> of the PSO. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"PSO_PHI2": 2.05,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter &sigma;<sub>2</sub> of the PSO. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"PSO_W": 0.729,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter &omega; of the PSO. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"PSO_MIN_VEL": -10,</span></span> <span style="color: gold; font-size: 14px">-> Min value of the speed of the PSO individuals. (<i>float</i>) in <i>[-(MAX_POS-MIN_POS), MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"PSO_MAX_VEL": 10,</span></span> <span style="color: gold; font-size: 14px">-> Max value of the speed of the PSO individuals. (<i>float</i>) in <i>[-(MAX_POS-MIN_POS), MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"DE_POP_PERC": 0,</span></span> <span style="color: gold; font-size: 14px">-> Percentage of the individuals in the population that it will perform the <i>Differential Evolution (DE)</i>. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"DE_F": 0.5,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter <i>F</i> of the DE. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"DE_CR": 0.7,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter <i>CR</i> of the DE. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"ES_POP_PERC": 0,</span></span> <span style="color: gold; font-size: 14px">-> Percentage of the individuals in the population that it will perform <i>Evolutionary Strategy (ES)</i>. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"ES_RCLOUD": 0.2,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter <i>r<sub>cloud</sub></i> of the ES. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"__COMMENT__": "COMPONENTS CONFIGURATION",</span><br>
	<span style="color: white">"COMP_CHANGE_DETECT": 0,</span></span> <span style="color: gold; font-size: 14px">-> Change detection component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_CHANGE_DETECT_MODE": 0,</span></span> <span style="color: gold; font-size: 14px">-> Change detection mode: 0 - External trigger; 1 - Reevaluation. (<i>int</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"COMP_MULTIPOP": 0,</span></span> <span style="color: gold; font-size: 14px">-> Multipopulation component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_MULTIPOP_N": 10,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter number of subpopulations of the Multipopulation component. (<i>int</i>) > 1</i></span><br>
	<span style="color: white">"COMP_MUT": 0,</span></span> <span style="color: gold; font-size: 14px">-> Mutation component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_MUT_PERC": 0.05,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter probability of the mutation in the population. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"COMP_MUT_ELI": 0.5,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter percentage of elit individuals to consider in the mutation component. (<i>float</i>) in <i>[0, 1[</i></span><br>
	<span style="color: white">"COMP_MUT_STD": 0.1,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter standard deviation of the normal distribution used in the mutation component. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"COMP_EXCLUSION": 0,</span></span> <span style="color: gold; font-size: 14px">-> Exclusion component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_EXCLUSION_REXCL": 22.9,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter exclusion radio (<i>r<sub>excl</sub></i>) of the Exclusion component. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"COMP_ANTI_CONVERGENCE": 0,</span></span> <span style="color: gold; font-size: 14px">-> Anti-convergence component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_ANTI_CONVERGENCE_RCONV": 39.7,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter anti-convergence radius (<i>r<sub>conv</sub></i>) of the Anti-convergece component. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"COMP_LOCAL_SEARCH": 0,</span></span> <span style="color: gold; font-size: 14px">-> Local-search component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_LOCAL_SEARCH_ETRY": 20,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter number of tries (<i>E<sub>try</sub></i>) of the Local-search component. (<i>int</i>) > 0</span><br>
	<span style="color: white">"COMP_LOCAL_SEARCH_RLS": 1</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter local search radius (<i>r<sub>ls</sub></i>) of the Local-search component. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

	<h1 style="color: orange">> frameConfig.ini</h1>
	<p> This file is used to setup the framework configuration, like, the metrics to be calculated, number of runs and etc. Below it is the entire file and a description of each line and how to set it.
	> <a href="frameConfig.ini" target="_blank">[ file ]</a>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"__COMMENT__": "FRAMEWORK CONFIGURATION",</span><br>
	<span style="color: white">"RUNS": 5,</span> <span style="color: gold; font-size: 14px">-> Number of runs. (<i>int</i>) > 0</span><br>
	<span style="color: white">"FINISH_RUN_MODE": 0,</span> <span style="color: gold; font-size: 14px">-> Mode to finish the run. 0 - <i>Fixed-budget</i>, finish when achieve a fixed number of evaluations (<i>int</i>) in <i>[0, 1]</i>; 1 - <i>Fixed-target</i>, run until achieve a error less than a fixed target. (<i>float</i>) > 0</span><br>
	<span style="color: white">"FINISH_RUN_MODE_VALUE": 1000,</span></span> <span style="color: gold; font-size: 14px">-> Number of evaluation if <i>FINISH_RUN_MODE = 1</i>  (<i>int</i>) > 1; Target error if <i>FINISH_RUN_MODE = 1</i>  (<i>float</i>) > 0. </span><br>
	<span style="color: white">"SEED": 42,</span></span> <span style="color: gold; font-size: 14px">-> The seed for the runs. (<i>float</i>)</span><br>
	<span style="color: white">"PLOT": 0,</span></span> <span style="color: gold; font-size: 14px">-> Save the performance curves of the runs. (<i>bool</i>)</span><br>
	<span style="color: white">"CONFIG_COPY": 1,</span></span> <span style="color: gold; font-size: 14px">-> Save the configuration files. (<i>bool</i>)</span><br>
	<span style="color: white">"OFFLINE_ERROR": 0,</span></span> <span style="color: gold; font-size: 14px">-> Calculate the <i>offline error</i> of the runs. (<i>bool</i>)</span><br>
	<span style="color: white">"BEBC_ERROR": 0,</span></span> <span style="color: gold; font-size: 14px">-> Calculate the <i>best before change</i> error. (<i>bool</i>)</span><br>
	<span style="color: white">"PATH": "../examples",</span></span> <span style="color: gold; font-size: 14px">-> Path to save the generated files. (<i>char</i>)</span><br>
	<span style="color: white">"FILENAME": "data.csv",</span></span> <span style="color: gold; font-size: 14px">-> File name of the performance data. (<i>char</i>)</span><br>
	<span style="color: white">"LOG_ALL": 0,</span></span> <span style="color: gold; font-size: 14px">-> Put all individuals data in the performance data. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_RUN": 1,</span></span> <span style="color: gold; font-size: 14px">-> Debug in run level. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_RUN2": 0,</span></span> <span style="color: gold; font-size: 14px">-> Debug in run level 2. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_GEN": 0,</span></span> <span style="color: gold; font-size: 14px">-> Debug in generation level. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_POP": 0,</span></span> <span style="color: gold; font-size: 14px">-> Debug in population level. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_IND": 0</span></span> <span style="color: gold; font-size: 14px">-> Debug in individual level. (<i>bool</i>)</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

	<h1 style="color: orange">> problemConfig.ini</h1>
	<p> This file is used to setup the problem configuration, like the number of dimensions, if it is a dynamic problem and etc.
	<br>
	The framework provide some benchmarks problems for testing, using for this, the <a href="https://deap.readthedocs.io/en/master/api/benchmarks.html" target="_blank">DEAP</a> library. They are:
	<ul>
	  <li><b><span style="color:white">CIGAR</span></b></li>
	  <li><b><span style="color:white">PLANE</span></b></li>
	  <li><b><span style="color:white">SPHERE</span></b></li>
	  <li><b><span style="color:white">ACKLEY</span></b></li>
	  <li><b><span style="color:white">BOHACHEVSKY</span></b></li>
	  <li><b><span style="color:white">GRIEWANK</span></b></li>
	  <li><b><span style="color:white">H1</span></b></li>
	  <li><b><span style="color:white">HIMMELBLAU</span></b></li>
	  <li><b><span style="color:white">RASTRIGIN</span></b></li>
	  <li><b><span style="color:white">ROSENBROCK</span></b></li>
	  <li><b><span style="color:white">SCHAFFER</span></b></li>
	  <li><b><span style="color:white">SCHEFEL</span></b></li>
	  <li><b><span style="color:white">MPB</span></b></li>
	</ul>
	Below it is the entire file and a description of each line and how to set it.
	> <a href="problemConfig.ini" target="_blank">[ file ]</a>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"__COMMENT__": "PROBLEM CONFIGURATION",</span><br>
	<span style="color: white">"BENCHMARK": "NONE",</span> <span style="color: gold; font-size: 14px">-> Name of the benchmark as it is in the list above. If you are going to use your own fitness function (see the next chapter), must put "NONE" here. (<i>char</i>)</span><br>
	<span style="color: white">"FUNCTION": "function.py",</span> <span style="color: gold; font-size: 14px">-> Name of the file containing the fitness function in the directory <i>fitnessFunction</i>. (<i>char</i>)</span><br>
	<span style="color: white">"NDIM": 2,</span> <span style="color: gold; font-size: 14px">-> Number of dimensions of the problem. (<i>int</i>) > 0</span><br>
	<span style="color: white">"CHANGES": 0,</span></span> <span style="color: gold; font-size: 14px">-> Changes in the environment, for dynamic problems. (<i>bool</i>)</span><br>
	<span style="color: white">"CHANGES_NEVALS": [5000, 10000, 15000],</span></span> <span style="color: gold; font-size: 14px">-> A list containing the number of the evaluations in which the environment should change. (<i>list</i>)</span><br>
	<span style="color: white">"SCENARIO_MPB": 2,</span></span> <span style="color: gold; font-size: 14px">-> Scenario to use in the MPB. (<i>ind</i>) in <i>[1, 3]</i></span><br>
	<span style="color: white">"UNIFORM_HEIGHT_MPB": 0,</span></span> <span style="color: gold; font-size: 14px">-> Initial height of the peaks in the MPB. if 0 the height will be randomly choosed in the MPB. (<i>int</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"MOVE_SEVERITY_MPB": 1.5,</span></span> <span style="color: gold; font-size: 14px">-> The distance a single peak moves when peaks change in the MPB. (<i>float</i>) in <i>]0, 100]</i></span><br>
	<span style="color: white">"MIN_HEIGHT_MPB": 30,</span></span> <span style="color: gold; font-size: 14px">-> Minimum height of the peaks in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"MAX_HEIGHT_MPB": 70,</span></span> <span style="color: gold; font-size: 14px">-> Maximum height of the peaks in the MPB. (<i>float</i>) in <i>]0, 100]</i></span><br>
	<span style="color: white">"MIN_WIDTH_MPB": 1,</span></span> <span style="color: gold; font-size: 14px">-> Minimum width of the peaks in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"MAX_WIDTH_MPB": 12,</span></span> <span style="color: gold; font-size: 14px">-> Maximum width of the peaks in the MPB. (<i>float</i>) in <i>]0, 100]</i></span><br>
	<span style="color: white">"MIN_COORD_MPB": 0,</span></span> <span style="color: gold; font-size: 14px">-> Minimum coordinate for the centre of the peaks in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"MAX_COORD_MPB": 100,</span></span> <span style="color: gold; font-size: 14px">-> Maximum coordinate for the centre of the peaks in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"LAMBDA_MPB": 0.5</span></span> <span style="color: gold; font-size: 14px">-> Correlation between changes in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

</div>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="top"> Fitness Function</span>
</div>
<div id="divSynopsis"> 
If you selected <b><i>"NONE"</i></b> in the parameter <b><i>"BENCHMARK"</i></b> of the <i>problemConfig.ini</i>, that means that 
you want to define your own fitness function and not use a benchmark.
<h1 style="color: orange">> function.py</h1>
<p>To define the fitness function, you need to create a file that will evaluate the solutions of your algorithm 
(i.e. <b><i>"function.py"</i></b>) in the <i>fitnessFunction</i> directory, and put this name in the parameter <i>"FUNCTION"</i> of the <i>problemConfig.ini</i>.
This file should contain a python method named <span style="color: white"><b><i>function(x)</i></b></span> where the argument <b><i>x</i></b> 
is a list with <b><i>"NDIM"</i></b> dimensions and represent a solution to be evaluated.</p>
<br>
The following command create and open the file:
	<div>
	<hr>
	<code>
	<span style="color: green">$</span><span id="dollar"> nano fitnessFunction/function.py</span><br>
	</code>
	<hr>
	</div>
<br><br>
Then, we define the function inside the file, like this:
	<div>
	<hr>
	<code>
	<span style="color: green">def</span><span style="color: white"> function(x):</span><br>
	</code>
	<hr>
	</div>
</div>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="top"> Running</span>
</div>
<div id="divSynopsis"> 
Once the configuration files are done, it is time to run the algorithm. To do that we just need to run the script <i>abec.py</i> that it is located in <b><i>AbEC/abec</i></b>, the same directory as the configuration files.<br><br>
The following command do the job:
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ./abec.py</span><br>
    	</code>
    	<hr>
	</div>
    <br>
    <p>However, during the experiments it may be convenient to have the files of different configurations 
(instances) of the algorithms in specific directories. 
Therefore, it is possible to specify the path where the configuration files are located, and this becomes the default path during the execution of the algorithm. To do so, just add the 
<i>-p</i> argument when calling the framework script, like this:</p>

	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ./abec.py -p <i>PATH</i></span><br>
    	</code>
    	<hr>
	</div>

</div>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="top"> Data</span>
</div>
<div id="divSynopsis"> 
The files generated during the optimization time, as well the plots and the metrics, are going to be in the path defined in the <i>frameConfig.ini</i> file.

So, in our example, the files will be saved in:
<br>
<br>
<b><i><span style="color:white">AbEC/examples/PSO/YYYY-MM-DD/mm-ss/</span></i></b>
<br><br>
Where <i>YYYY, MM, DD, mm, ss</i> are the year, month, day, minute and second, respectivetely, of the moment in which the algorithm started to run.<br><br>

And the files generated it will be:
	<ul>
	  <li><b><span style="color:white">data.csv:</span></b> CSV file containing the performance data of the runs.</li>
	  <li><b><span style="color:white">offlineError.txt:</span></b> TXT file containing the value of the <i>offline error</i>. In the case where there were more than one run, the value will be the avarage.</li>
	  <li><b><span style="color:white">optima.csv:</span></b> CSV file containing the optimal points.</li>
	  <li><b><span style="color:white">algoConfig.ini:</span></b> Copy of the algoConfig.ini file used in the runs.</li>
	  <li><b><span style="color:white">frameConfig.ini:</span></b> Copy of the frameConfig.ini file used in the runs.</li>
	  <li><b><span style="color:white">problemConfig.ini:</span></b> Copy of the problemConfig.ini file used in the runs.</li>
	</ul> 

</div>


<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="top"> Example</span>
</div>
<div id="divSynopsis"> 
    As a examples lets define a function that represents the following surface in a 3D space, and we want to minimize, that is, we want to find the coordinates <i>(x, y)</i> that represents the minumum value of the function.
    <br>
    However, before of it, lets create a directory where we want to run our experiements. So we create the directory <i>example1</i> in the directory <b><i>AbEC/examples/</i></b>.
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> mkdir ../examples/example1</span><br>
    	</code>
    	<hr>
	</div>
    <br>
    And inside of this directory, we edit our configuration and function files.
    <br>
    Below is how the surface looks like:
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/surfaceFitFunction.png" alt="surface" style="width:100%;height:500px;">
    </div>
    <br>
    Represented by the following equation:
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/surfaceEq.png" alt="surface" style="width:30%;height:150px;">
    </div>
    With <i>A = 10</i> and <i>B = 2</i>.
    So, the <i>function.py</i> file will be like: 
	> <a href="function.py" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano fitnessFunction/function.py</span><br>
    	</code>
    	<hr>
	</div>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">import</span><span style="color: white"> numpy</span><span style="color: green"> as</span><span style="color: white"> np</span><br>
        <br>
    	<span style="color: green">def</span><span style="color: white"> function(x):</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: white">fitness = 5*x[0]*np.exp(- ( ((x[0])**2) + ((x[1])**2) )/4)</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: green">return</span> <span style="color: white">fitness</span><br>
    	</code>
    	<hr>
	</div>
    <br>

    And now we need to set the configuration files. For the example lets use a classical PSO algorithm, without any components.
<br><br>
	<span style="color: green"> > </span><span style="color: yellow">algoConfig.ini</span><br><br>
    Starting with the <i>algoConfig.ini</i>, we are just going to set the optimizer to perform PSO and the rest just leave the default configuration.
So, out file is something like this:

	> <a href="algoConfig2.ini" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../examples/example1/algoConfig.ini</span><br>
    	</code>
    	<hr>
	</div>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"ALGORITHM": "PSO",</span> <br>
	<span style="color: white">"POPSIZE": 50,</span><br>
	<span style="color: white">"MIN_POS": -10,</span><br>
	<span style="color: white">"MAX_POS": 10,</span><br>
	<span style="color: white">"PSO_POP_PERC": 1,</span><br>
	<span style="color: white">"PSO_PHI1": 2.05,</span><br>
	<span style="color: white">"PSO_PHI2": 2.05,</span><br>
	<span style="color: white">"PSO_W": 0.729,</span><br>
	<span style="color: white">"PSO_MIN_VEL": -10,</span><br>
	<span style="color: white">"PSO_MAX_VEL": 10</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

    <br>
	<span style="color: green"> > </span><span style="color: yellow">frameConfig.ini</span><br><br>
    In the <i>frameConfig.ini</i> we are just going to edit the number of evaluations in the parameter <i>"FINISH_RUN_MODE_VALUE"</i>.
    The file is something like this:

	> <a href="frameConfig2.ini" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../examples/example1/frameConfig.ini</span><br>
    	</code>
    	<hr>
	</div>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"RUNS": 5,</span> <br>
	<span style="color: white">"FINISH_RUN_MODE": 0,</span><br>
	<span style="color: white">"FINISH_RUN_MODE_VALUE": 1000</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

    <br>
	<span style="color: green"> > </span><span style="color: yellow">problemConfig.ini</span><br><br>
    Starting with the <i>algoConfig.ini</i>, we are just going to set the optimizer to perform PSO and the rest just leave the default configuration.
So, out file is something like this:

	> <a href="problemConfig2.ini" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../examples/example1/problemConfig.ini</span><br>
    	</code>
    	<hr>
	</div>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"BENCHMARK": "NONE",</span> <br>
	<span style="color: white">"NDIM": 2,</span><br>
	<span style="color: white">"FUNCTION": "function.py"</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

    <br><br>
    Once everything is configured, lets run!
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ./abec.py -p ../examples/example1</span><br>
    	</code>
    	<hr>
	</div>
    <br>
    The output will be something like this below, and you should confirm the configuration and then press enter to run the algorithm.
   	<div>
       	<hr>
       	<code>
        <span style="color: white; font-size: 13px">    ======================================================</span><br>
        <span style="color: white; font-size: 13px">          &emsp; &emsp; &emsp; &emsp;AbEC -> Ajustable Evolutionary Components        </span><br>
        <span style="color: white; font-size: 13px">            &emsp; &emsp; &emsp; &emsp; &emsp;A framework for Optimization Problems         </span><br>
        <span style="color: white; font-size: 13px">    ======================================================</span><br>
        <br>
        <span style="color: white; font-size: 13px">    [ALGORITHM SETUP]</span><br>
        <span style="color: white; font-size: 13px">    - Name: PSO</span><br>
        <span style="color: white; font-size: 13px">    - Individuals p/ population:	50</span><br>
        <span style="color: white; font-size: 13px">    - Optimizers (percentage of each population):</span><br>
        <span style="color: white; font-size: 13px">    -- [PSO]:	100%</span><br>
        <span style="color: white; font-size: 13px">    ---- Phi1:	2.05</span><br>
        <span style="color: white; font-size: 13px">    ---- Phi2:	2.05</span><br>
        <span style="color: white; font-size: 13px">    ---- W:		0.729</span><br>
        <br>
        <span style="color: white; font-size: 13px">    - Components:</span><br>
        <br>
        <span style="color: white; font-size: 13px">    [FRAMEWORK SETUP]</span><br>
        <span style="color: white; font-size: 13px">    - RUNS:		 5</span><br>
        <span style="color: white; font-size: 13px">    - NEVALS p/ RUN: 1000</span><br>
        <span style="color: white; font-size: 13px">    - SEED:		 42</span><br>
        <br>
        <span style="color: white; font-size: 13px">    [PROBLEM SETUP]</span><br>
        <span style="color: white; font-size: 13px">    - Name: Fitness Function</span><br>
        <span style="color: white; font-size: 13px">    - NDIM: 2</span><br>
        <br>
        <br>
        <span style="color: white; font-size: 13px">[Press enter to start...]</span><br>
    	</code>
    	<hr>
  	</div>
    <br>

    And finally, this is the result:
	<div>
    	<hr>
    	<code>
        <span style="color: white; font-size: 13px">[START]</span><br>
        <br>
        <span style="color: white; font-size: 13px">[RUN:01][GEN:0020][NEVALS:001000][POP 0001][BEST 0023:[-1.423860858241795, -0.03797111096753128]][ERROR:-4.2871][Eo:0.0000]</span><br>
        <span style="color: white; font-size: 13px">[RUN:02][GEN:0020][NEVALS:001000][POP 0001][BEST 0012:[-1.3549695161232402, 0.0021081511144579457]][ERROR:-4.2812][Eo:0.0000]</span><br>
        <span style="color: white; font-size: 13px">[RUN:03][GEN:0020][NEVALS:001000][POP 0001][BEST 0007:[-1.400093717163085, -0.017481671577360802]][ERROR:-4.2881][Eo:0.0000]</span><br>
        <span style="color: white; font-size: 13px">[RUN:04][GEN:0020][NEVALS:001000][POP 0001][BEST 0050:[-1.3844698998965557, -0.02541731949895054]][ERROR:-4.2862][Eo:0.0000]</span><br>
        <span style="color: white; font-size: 13px">[RUN:05][GEN:0020][NEVALS:001000][POP 0001][BEST 0038:[-1.434225779203995, 0.001410062438234494]][ERROR:-4.2880][Eo:0.0000]</span><br>
        <br>
        <span style="color: white; font-size: 13px">==============================================</span><br>
        <span style="color: white; font-size: 13px">[RUNS:5]</span><br>
        <span style="color: white; font-size: 13px">[POS MEAN: [-1.3995239541257343, -0.015470377698230037] ]</span><br>
        <span style="color: white; font-size: 13px">[FIT MEAN: -4.29(0.00)]</span><br>
        <span style="color: white; font-size: 13px">==============================================</span><br>
        <br>
        <br>
        <span style="color: white; font-size: 13px">File generated: ../examples/PSO/2023-6-8/19-48/data.csv</span><br>
        <span style="color: white; font-size: 13px">Time Exec: 2.886240243911743 s</span><br>
        <br>
        <br>
        <span style="color: white; font-size: 13px">[END]</span><br>
        <span style="color: white; font-size: 13px">Thx :)</span><br>
    	</code>
    	<hr>
	</div>
    <br>
    Where we can see that our solution is something around <span style="color: white"><b><i>x&sime;-1.3995</i></b></span> and <span style="color: white"><b><i>y&sime;-0.0155</b></i></span>.
    <br>
    And to see the files generated by running the algorithm:
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ls ../examples/example1</span><br>
    	</code>
    	<hr>
	</div>
	<div>
    	<hr>
    	<code>
        <span style="color: white; font-size: 13px">algoConfig.ini    data.csv    frameConfig.ini    optima.csv    problemConfig.ini</span><br>
    	</code>
    	<hr>
	</div>
    <br><br>

    Congratulations!! you now have runned the algorithm on the problem that you defined. It depends on the context, but a usual natural next step is to visualize the performance curve of the algorithm.
For this, the framework provides a script to visualize the current error of the algorhtm during the optimization process.
To use this feature, go to the directory <b><i><span style="color:white">AbEC/abec/plot/currentError/</span></i></b>.
In this directory there is a configuration file, named <i>config.ini</i> which allows us to setup some characteristics of the plot, like axes limits, title, name of the file, etc..
<br><br>
Using this script is possible to plot up to 4 graphs in the same figure, if you want to use for example, to compare different algorithms or setups.
To execute the plot feature you can use the following command:
    <br>
    <br>
	<div>
	<hr>
	<code>
	<span style="color: green">$</span><span id="dollar"> ./currentErrorPlot.py -p <i>PATH</i> <i>DATA1</i> .... <i>DATA4</i></span><br>
	</code>
	<hr>
	</div>
    <br>
    Here, <i>PATH</i> is the path for to where there are the runs that you want to plot and <i>DATAX</i> are the directories of the up to 4 different setups.
    <br>
    So, for the our example, we can use the following command:
    <br><br>
	<div>
	<hr>
	<code>
	<span style="color: green">$</span><span id="dollar"> ./currentErrorPlot.py -p ../../../examples/PSO/2023-6-8 19-48</span><br>
	</code>
	<hr>
	</div>
    <br>
    and then will be generated a figure with our performance curve of the current error. Like this:
    <br><br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/PSO-0.png" alt="surface" style="width:100%;height:600px;">
    </div>
    <br>
    We had 5 runs in our example, we can also plot each runs individually. For this the parameter <i>"ALLRUNS"</i> need to be set in 1.
    And then the result is gonna be:
    <br><br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/PSO-1.png" alt="surface" style="width:100%;height:600px;">
    </div>
    <br>


    <h3 style="color:green">>> ALTERNATIVE <<</h3>

    For this example, as is a differentiable function, we could find the minimum points algebraically using the derivatives. For this, we just need to set the first derivative of the function equal to zero.
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/min1.png" alt="surface" style="width:40%;height:90px;">
    </div>
    <br>
    As is a multivariate function, we need to perform the partial derivative for each variable, and then set to zero to find the values, just like this:
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/min2.png" alt="surface" style="width:40%;height:100px;">
    </div>
    <br>
    In our case:
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/min3.png" alt="surface" style="width:35%;height:75px;">
    </div>
    <div style="text-align: center;">
        <img class="centerImg" src="images/min4.png" alt="surface" style="width:35%;height:75px;">
    </div>
    <br>
    And then, now we know the the optimal points are:
    <div style="text-align: center;">
        <img class="centerImg" src="images/min5.png" alt="surface" style="width:20%;height:60px;">
    </div>
    <br>
    And then the <i>function.py</i> it would be something like:
	> <a href="function2.py" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">import</span><span style="color: white"> numpy</span><span style="color: green"> as</span><span style="color: white"> np</span><br>
        <br>
        <span style="color: white">optimal = [-np.sqrt(2), 0]</span><br>
        <br>
    	<span style="color: green">def</span><span style="color: white"> equation(s):</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: green">return</span> <span style="color: white"> return 5*s[0]*np.exp(- ( ((s[0])**2) + ((s[1])**2) )/4)</span><br>
        <br>
    	<span style="color: green">def</span><span style="color: white"> function(x):</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: white"> opt = equation(optimal)</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: white"> fit = equation(x)</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: white"> error = abs(opt - fit)</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: green">return</span> <span style="color: white"> error</span><br>  
    	</code>
    	<hr>
	</div>
    <br><br>
    and the plots:
    <br><br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/PSO-2.png" alt="surface" style="width:100%;height:600px;">
    </div>
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/PSO-3.png" alt="surface" style="width:100%;height:600px;">
    </div>
    <br>
    <h3 style="color:green">>> BONUS <<</h3>


    Below is the performance curve of four different algorithms (PSO, GA, DE, ES) and with 30 runs, applied to the problem we defined above on the same plot for comparison.
    <br>
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="images/COMP.png" alt="surface" style="width:100%;height:600px;">
    </div>
    The shadow around the algorithm line refers to the standard deviation of the 30 runs.
    <br>
    <br>
    <br>
    <br>
    For today that's all folks.<br>
    ---------------------------------------------------------------------------------------------
</div>


<span style="color: white">Be free to use this framework.</span><br>
<span style="color: green">AbEC Â© 2023.</span>

<div class="myHead"><blink></blink></div>
</div>

</pre>
</section>
</body>
</html>
