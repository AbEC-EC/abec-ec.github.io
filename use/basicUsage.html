<!DOCTYPE html>
<html>
  <head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JGW6MNEWGH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JGW6MNEWGH');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <title>AbEC | BU</title>

    <script src="scramble.js"></script>
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script>
		MathJax = {
		tex: {
		  tags: 'ams'  // should be 'ams', 'none', or 'all'
		}
		};
	</script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <link rel="icon" href="../images/luffy-smile-rb.png" />
    <link rel="shortcut icon" href="../images/luffy-smile-rb.png" />
    <link rel="stylesheet" type="text/css" href="../style2.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/hack-font/3.3.0/web/hack.min.css"
      integrity="sha512-XgCw4Srl8lC1ECwcaHwAU0WnxQwHkqmInzg9wJLtGB7DRuMaXPuK2k9WJ2AwRDGdrgK9eJpZl2hUlLi2WQssmw=="
      crossorigin="anonymous"
    />
	<style>
		h1 {
			text-align: center;
			background: #EEEEEE;
			padding: .2em 1em;
			border-top: 3px solid #666666;
			border-bottom: 3px solid #999999;
		}
  </style>
  </head>

<body>
<section>
<pre>

<div style="float: left">USE(2)</div><div style="float: right">USE(2)</div><div style="margin: 0 auto; width: 100%; text-align: center"><span id="top">AbEC - Basic usage</span></div>
<div id="google_translate_element"></div>
> <a href="../index.html">[ Home ]</a>
>> <a href="#configurationFiles">[ Configuration files ]</a>
>> <a href="#fitnessFunction">[ Fitness function ]</a>
>> <a href="#running">[ Running ]</a>
>> <a href="#data">[ Data ]</a>
>> <a href="#example">[ Example ]</a>
> <a href="../use.html">[ Back ]</a>

<script type="text/javascript">
function setCookie(key, value, expiry) {
  var expires = new Date();
  expires.setTime(expires.getTime() + (expiry * 24 * 60 * 60 * 1000));
  document.cookie = key + '=' + value + ';expires=' + expires.toUTCString();
}
</script>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="top"> Overview</span>
</div>
<div id="divName"> 
After cloning the repository in our computer and run the install.sh script (to see more about the installation come <a href="../install.html" target="_blank">here</a>), we already have enough to run the framework. The directory created is <b><i>AbEC</i></b>, and inside of it contains all the files needed to configure and to use the framework.
<br><br>
There are two ways to run the framework, through the graphical interface and via the command line. In the <a href="#running" >Running section</a> we are going to explain how to use both. But fisrt, lets take a look in the most important part
in the usage of the framework: The configuration files.<br><br>
As a adjustable framework, we need to configure it before use. This configuration is made through three configuration files, where we can set which components and what values for the hyper-parameters we want to use.
These files are:
 <ul>
  <li><b><span style="color:white">algoConfig.ini:</span></b> Where it is the configuration related to the functioning of the algorithm itself (e.g. Population size, optimizers, ...).</li><br>
  <li><b><span style="color:white">frameConfig.ini:</span></b> Where it is the configuration of the framework parameters (e.g. number of runs, path of the files, number of evaluations, ...).</li><br>
  <li><b><span style="color:white">problemConfig.ini:</span></b> Where it is the configuration of problem (e.g. number of dimensions, dynamic or not, ...).</li><br>
    </ul> 

These files are located in <b><i><span style="color:white">AbEC/abec/</span></i></b>. After cloning the repository:
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> cd AbEC/abec</span><br>
    	</code>
    	<hr>
	</div>
    <br><br>
Below a description and how to use these files is made.

</div>
<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="configurationFiles" class="sectionTitle"> Configuration files</span>
</div>
<div id="divSynopsis"> 

 As a default configuration, the parametrization of the <i>frameConfig.ini</i> and <i>problemConfig.ini</i> files showed in the below explanation is used. This means that if any these
 configuration files is not found, the default configuration of their will be used. 
<br><br>
    In that way, the only mandatory file is the <i>algoConfig.ini</i>.
<br><br>
    When editing the configurations file, you just need to include the parameters that you want to set, the others are set by default.
	For the boolean configurations (<i>bool</i>), unless the opposite is said, 1 means enabled and 0 means disabled.

	<h1 style="color: orange">> algoConfig.ini</h1>
	<p> This is the main configuration file, where we are going to set which optimizers, components and hyper-parameters, that it will compose our algorithm. Below it is the entire file and a description of each line and how to set it (in this file, for example, it is configured the algorithm Particle Swarm Optimization, known as PSO).
	> <a href="algoConfig.ini" target="_blank">[ file ]</a>

	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"__COMMENT__": "BASIC CONFIGURATION",</span><br>
	<span style="color: white">"ALGORITHM": "PSO",</span> <span style="color: gold; font-size: 14px" >-> Name you want to give the algorithm. (</i>char</i>)</span><br>
	<span style="color: white">"POPSIZE": 50,</span></span> <span style="color: gold; font-size: 14px">-> Number of individuals in the population. If there are more than one population, this number applies for each subpopulation. (<i>int</i>)</span><br>
	<span style="color: white">"MIN_POS": -10,</span></span> <span style="color: gold; font-size: 14px">-> Min value of the search space. (<i>int</i>)</span><br>
	<span style="color: white">"MAX_POS": 10,</span></span> <span style="color: gold; font-size: 14px">-> Max value of the search space. (<i>int</i>)</span><br>
	<span style="color: white">"__COMMENT__": "OPTIMIZER CONFIGURATION",</span><br>
	<span style="color: white">"GA_POP_PERC": 0,</span></span> <span style="color: gold; font-size: 14px">-> Percentage of the individuals in the population that it will perform the <i>Genetic Algorithm (GA)</i>. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"GA_ELI_PERC": 0.2,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter percentage of the elit in the GA population. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"GA_CROSS_PERC": 1,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter percentage of the population to consider in GA population when applies the crossover. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"GA_MUT_PERC": 0.1,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter probability of the mutation in the GA population. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"GA_MUT_STD": 1,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter standard deviation of the normal distribution used in the mutation. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"GA_ENCODER": 0,</span></span> <span style="color: gold; font-size: 14px">-> Use encoder in the GA individuals. If used, the values of the individuals will be converted into binary and the operators will apply in the bit level. (<i>bool</i>)</span><br>
	<span style="color: white">"GA_INDSIZE": 16,</span></span> <span style="color: gold; font-size: 14px">-> If using encoder, the size of the individuals, number of bits to represent each dimension. (<i>int</i>) in <i>[1, 64]</i></span><br>
	<span style="color: white">"PSO_POP_PERC": 1,</span></span> <span style="color: gold; font-size: 14px">-> Percentage of the individuals in the population that it will perform the <i>Particle Swarm Optimization (PSO)</i>. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"PSO_PHI1": 2.05,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter &sigma;<sub>1</sub> of the PSO. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"PSO_PHI2": 2.05,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter &sigma;<sub>2</sub> of the PSO. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"PSO_W": 0.729,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter &omega; of the PSO. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"PSO_MIN_VEL": -10,</span></span> <span style="color: gold; font-size: 14px">-> Min value of the speed of the PSO individuals. (<i>float</i>) in <i>[-(MAX_POS-MIN_POS), MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"PSO_MAX_VEL": 10,</span></span> <span style="color: gold; font-size: 14px">-> Max value of the speed of the PSO individuals. (<i>float</i>) in <i>[-(MAX_POS-MIN_POS), MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"DE_POP_PERC": 0,</span></span> <span style="color: gold; font-size: 14px">-> Percentage of the individuals in the population that it will perform the <i>Differential Evolution (DE)</i>. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"DE_F": 0.5,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter <i>F</i> of the DE. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"DE_CR": 0.7,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter <i>CR</i> of the DE. (<i>float</i>) in <i>[0, 10]</i></span><br>
	<span style="color: white">"ES_POP_PERC": 0,</span></span> <span style="color: gold; font-size: 14px">-> Percentage of the individuals in the population that it will perform <i>Evolutionary Strategy (ES)</i>. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"ES_RCLOUD": 0.2,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter <i>r<sub>cloud</sub></i> of the ES. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"__COMMENT__": "COMPONENTS CONFIGURATION",</span><br>
	<span style="color: white">"COMP_CHANGE_DETECT": 0,</span></span> <span style="color: gold; font-size: 14px">-> Change detection component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_CHANGE_DETECT_MODE": 0,</span></span> <span style="color: gold; font-size: 14px">-> Change detection mode: 0 - External trigger; 1 - Reevaluation. (<i>int</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"COMP_MULTIPOP": 0,</span></span> <span style="color: gold; font-size: 14px">-> Multipopulation component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_MULTIPOP_N": 10,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter number of subpopulations of the Multipopulation component. (<i>int</i>) > 1</i></span><br>
	<span style="color: white">"COMP_MUT": 0,</span></span> <span style="color: gold; font-size: 14px">-> Mutation component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_MUT_PERC": 0.05,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter probability of the mutation in the population. (<i>float</i>) in <i>[0, 1]</i></span><br>
	<span style="color: white">"COMP_MUT_ELI": 0.5,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter percentage of elit individuals to consider in the mutation component. (<i>float</i>) in <i>[0, 1[</i></span><br>
	<span style="color: white">"COMP_MUT_STD": 0.1,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter standard deviation of the normal distribution used in the mutation component. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"COMP_EXCLUSION": 0,</span></span> <span style="color: gold; font-size: 14px">-> Exclusion component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_EXCLUSION_REXCL": 22.9,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter exclusion radio (<i>r<sub>excl</sub></i>) of the Exclusion component. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"COMP_ANTI_CONVERGENCE": 0,</span></span> <span style="color: gold; font-size: 14px">-> Anti-convergence component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_ANTI_CONVERGENCE_RCONV": 39.7,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter anti-convergence radius (<i>r<sub>conv</sub></i>) of the Anti-convergece component. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">"COMP_LOCAL_SEARCH": 0,</span></span> <span style="color: gold; font-size: 14px">-> Local-search component. (<i>bool</i>)</span><br>
	<span style="color: white">"COMP_LOCAL_SEARCH_ETRY": 20,</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter number of tries (<i>E<sub>try</sub></i>) of the Local-search component. (<i>int</i>) > 0</span><br>
	<span style="color: white">"COMP_LOCAL_SEARCH_RLS": 1</span></span> <span style="color: gold; font-size: 14px">-> Hyper-parameter local search radius (<i>r<sub>ls</sub></i>) of the Local-search component. (<i>float</i>) in <i>]0, MAX_POS-MIN_POS]</i></span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

	<h1 style="color: orange">> frameConfig.ini</h1>
	<p> This file is used to setup the framework configuration, like, the metrics to be calculated, number of runs and etc. Below it is the entire file and a description of each line and how to set it.
	> <a href="frameConfig.ini" target="_blank">[ file ]</a>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"__COMMENT__": "FRAMEWORK CONFIGURATION",</span><br>
	<span style="color: white">"RUNS": 5,</span> <span style="color: gold; font-size: 14px">-> Number of runs. (<i>int</i>) > 0</span><br>
	<span style="color: white">"FINISH_RUN_MODE": 0,</span> <span style="color: gold; font-size: 14px">-> Mode to finish the run. 0 - <i>Fixed-budget</i>, finish when achieve a fixed number of evaluations (<i>int</i>) in <i>[0, 1]</i>; 1 - <i>Fixed-target</i>, run until achieve a error less than a fixed target. (<i>float</i>) > 0</span><br>
	<span style="color: white">"FINISH_RUN_MODE_VALUE": 1000,</span></span> <span style="color: gold; font-size: 14px">-> Number of evaluation if <i>FINISH_RUN_MODE = 1</i>  (<i>int</i>) > 1; Target error if <i>FINISH_RUN_MODE = 1</i>  (<i>float</i>) > 0. </span><br>
	<span style="color: white">"SEED": 42,</span></span> <span style="color: gold; font-size: 14px">-> The seed for the runs. (<i>float</i>)</span><br>
	<span style="color: white">"PARALLELIZATION": 1,</span></span> <span style="color: gold; font-size: 14px">-> Enable/disable the parallelization of the runs (<i>bool</i>)</span><br>
	<span style="color: white">"NPROCESS": "AUTO",</span></span> <span style="color: gold; font-size: 14px">-> Number of process when parallelization is enabled. <i>AUTO</i> - 2/3 of the cores, <i>"MAX"</i> - all the cores, N (<i>int</i>) in [1, NCORES]</span><br>
	<span style="color: white">"LOG_ALL": 0,</span></span> <span style="color: gold; font-size: 14px">-> Put all individuals data of a run in a file. (<i>bool</i>)</span><br>
	<span style="color: white">"TERMINAL_OUTPUT": 1,</span></span> <span style="color: gold; font-size: 14px">-> Print the output in the terminal. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_RUN": 1,</span></span> <span style="color: gold; font-size: 14px">-> Debug in run level. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_RUN2": 0,</span></span> <span style="color: gold; font-size: 14px">-> Debug in run level 2. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_GEN": 0,</span></span> <span style="color: gold; font-size: 14px">-> Debug in generation level. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_POP": 0,</span></span> <span style="color: gold; font-size: 14px">-> Debug in population level. (<i>bool</i>)</span><br>
	<span style="color: white">"DEBUG_IND": 0</span></span> <span style="color: gold; font-size: 14px">-> Debug in individual level. (<i>bool</i>)</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

	<h1 style="color: orange">> problemConfig.ini</h1>
	<p> This file is used to setup the problem configuration, like the number of dimensions, if it is a dynamic problem and etc.
	<br>
	The framework provide some benchmarks problems for testing, using for this, the <a href="https://deap.readthedocs.io/en/master/api/benchmarks.html" target="_blank">DEAP</a> library. They are:
	<ul>
	  <li><b><span style="color:white">CIGAR</span></b></li>
	  <li><b><span style="color:white">PLANE</span></b></li>
	  <li><b><span style="color:white">SPHERE</span></b></li>
	  <li><b><span style="color:white">ACKLEY</span></b></li>
	  <li><b><span style="color:white">BOHACHEVSKY</span></b></li>
	  <li><b><span style="color:white">GRIEWANK</span></b></li>
	  <li><b><span style="color:white">H1</span></b></li>
	  <li><b><span style="color:white">HIMMELBLAU</span></b></li>
	  <li><b><span style="color:white">RASTRIGIN</span></b></li>
	  <li><b><span style="color:white">ROSENBROCK</span></b></li>
	  <li><b><span style="color:white">SCHAFFER</span></b></li>
	  <li><b><span style="color:white">SCHEFEL</span></b></li>
	  <li><b><span style="color:white">MPB</span></b></li>
	</ul>
	Below it is the entire file and a description of each line and how to set it.
	> <a href="problemConfig.ini" target="_blank">[ file ]</a>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"__COMMENT__": "PROBLEM CONFIGURATION",</span><br>
	<span style="color: white">"BENCHMARK": "CUSTOM",</span> <span style="color: gold; font-size: 14px">-> Name of the benchmark as it is in the list above. If you are going to use your own fitness function (see the next chapter), must put "NONE" here. (<i>char</i>)</span><br>
	<span style="color: white">"FUNCTION": "function.py",</span> <span style="color: gold; font-size: 14px">-> Name of the file containing the fitness function in the directory <i>fitnessFunction</i>. (<i>char</i>)</span><br>
	<span style="color: white">"NDIM": 2,</span> <span style="color: gold; font-size: 14px">-> Number of dimensions of the problem. (<i>int</i>) > 0</span><br>
	<span style="color: white">"CHANGES": 0,</span></span> <span style="color: gold; font-size: 14px">-> Changes in the environment, for dynamic problems. (<i>bool</i>)</span><br>
	<span style="color: white">"CHANGES_NEVALS": [5000, 10000, 15000],</span></span> <span style="color: gold; font-size: 14px">-> A list containing the number of the evaluations in which the environment should change. (<i>list</i>)</span><br>
	<span style="color: white">"SCENARIO_MPB": 2,</span></span> <span style="color: gold; font-size: 14px">-> Scenario to use in the MPB. (<i>ind</i>) in <i>[1, 3]</i></span><br>
	<span style="color: white">"UNIFORM_HEIGHT_MPB": 0,</span></span> <span style="color: gold; font-size: 14px">-> Initial height of the peaks in the MPB. if 0 the height will be randomly choosed in the MPB. (<i>int</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"MOVE_SEVERITY_MPB": 1.5,</span></span> <span style="color: gold; font-size: 14px">-> The distance a single peak moves when peaks change in the MPB. (<i>float</i>) in <i>]0, 100]</i></span><br>
	<span style="color: white">"MIN_HEIGHT_MPB": 30,</span></span> <span style="color: gold; font-size: 14px">-> Minimum height of the peaks in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"MAX_HEIGHT_MPB": 70,</span></span> <span style="color: gold; font-size: 14px">-> Maximum height of the peaks in the MPB. (<i>float</i>) in <i>]0, 100]</i></span><br>
	<span style="color: white">"MIN_WIDTH_MPB": 1,</span></span> <span style="color: gold; font-size: 14px">-> Minimum width of the peaks in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"MAX_WIDTH_MPB": 12,</span></span> <span style="color: gold; font-size: 14px">-> Maximum width of the peaks in the MPB. (<i>float</i>) in <i>]0, 100]</i></span><br>
	<span style="color: white">"MIN_COORD_MPB": 0,</span></span> <span style="color: gold; font-size: 14px">-> Minimum coordinate for the centre of the peaks in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"MAX_COORD_MPB": 100,</span></span> <span style="color: gold; font-size: 14px">-> Maximum coordinate for the centre of the peaks in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">"LAMBDA_MPB": 0.5</span></span> <span style="color: gold; font-size: 14px">-> Correlation between changes in the MPB. (<i>float</i>) in <i>[0, 100]</i></span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

</div>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="fitnessFunction" class="sectionTitle"> Fitness Function</span>
</div>
<div id="divSynopsis"> 
If you selected <b><i>"CUSTOM"</i></b> in the parameter <b><i>"BENCHMARK"</i></b> of the <i>problemConfig.ini</i>, that means that 
you want to define your own fitness function and not use a benchmark.
<h1 style="color: orange">> function.py</h1>
<p>To define the fitness function, you need to create a file that will evaluate the solutions of your algorithm 
(i.e. <b><i>"function.py"</i></b>) in the same directory of the configuration files, and put this name in the parameter <i>"FUNCTION"</i> of the <i>problemConfig.ini</i>.
This file should contain a python method named <span style="color: white"><b><i>function(x)</i></b></span> where the argument <b><i>x</i></b> 
is a list with <b><i>"NDIM"</i></b> dimensions and represent a solution to be evaluated.</p>
<br>
The following command create and open the file:
	<div>
	<hr>
	<code>
	<span style="color: green">$</span><span id="dollar"> nano function.py</span><br>
	</code>
	<hr>
	</div>
<br><br>
Then, we define the function inside the file, like this:
	<div>
	<hr>
	<code>
	<span style="color: green">def</span><span style="color: white"> function(x):</span><br>
	</code>
	<hr>
	</div>
</div>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="running" class="sectionTitle"> Running</span>
</div>
<div id="divSynopsis"> 
As said before there are two ways to run the framework, through the graphical interface and via the command line. Lets see first how to use via graphical interface and then via command line <br><br>

<span style="color: green"> > </span><span style="color: yellow">Running via graphical interface</span><br><br>

This is most straightfoward way to use the framework, once the interface was made to be most intuitive as possible. So, to run the framework we need to run the app.sh script which is localted on Abec/abec dir. So,
use the following command:<br>

<div>
	<hr>
	<code>
	<span style="color: green">$</span><span id="dollar"> ./app.sh</span><br>
	</code>
	<hr>
</div>
<br>

And then the window of the application will be opened as follows:
<br><br>
<div style="text-align: center;">
    <img class="centerImg" src="../images/interface1.png" alt="interface1" style="width:70%;height:500px;">
</div>
<br>

In the terminal located in the below part of the window there is a step-by-step to follow in order to configure and properly the framework. But lets take a look in a brief description of the buttons:<br>
<ul>
	<li><b><span style="color:white">Experiment: Configuration file:</span></b> Open the frameConfig.ini file in the default text editor.</li>
	<li><b><span style="color:white">Algorithm: Configuration file:</span></b> Open the algoConfig.ini file in the default text editor.</li>
	<li><b><span style="color:white">Problem: Configuration file:</span></b> Open the problemConfig.ini file in the default text editor.</li>
	<li><b><span style="color:white">Continue:</span></b> Used to advence to the next step.</li>
	<li><b><span style="color:white">Reset:</span></b> Restart the process from the begin.</li>
</ul> 
<br>

We have also in the right side two tabs used to display the progress of the optimization process, it is a good alternative to have a preview of how the algorithm is performing. In these tabs we can enable/disable the corresponding graphic to be done.<br>
The graphical options are: <br>
<ul>
	<li><b><span style="color:white">Performance</span></b> In this tab is displayed two performance curves, which represents two metrics used in the framework, the Current error and the Offline error.
	It is enabled by default.</li>
	<li><b><span style="color:white">Search Space</span></b> This one displays how the population (individuals) are spread out in the search space (so far, for problems with more than 2 dimensions it is used the 
	"fisrt" two dimension to represent). It is disabled by default.</li>
</ul>

It is important to have in mind that the use of these features slow down the optimization process, mainly the search space feature. So you can for example, enable them for a brief moment during the optimization process
to take a look how it is going and disable.<br>

By clicking on the continue button come to the first step of the configuration.<br><br>

<span style="color: green"> >> </span><span style="color: yellow">Step 1 - Configuration files</span><br><br>

Now the configuration files buttons are enables and in this step we need to set up them by clicking on the respective button:
<br><br>
<div style="text-align: center;">
    <img class="centerImg" src="../images/interface2.png" alt="interface1" style="width:70%;height:500px;">
</div>
<br>

Once the configuration files are set up, press the continue button.<br><br>

<span style="color: green"> >>> </span><span style="color: yellow">Step 1.1 - Problem configuration file</span><br><br>

If you choose the "CUSTOM" option in the problem configuration file, that means you are not going to use a benchmark problem and want
use use your own fitness function file. So, in this moment you need to upload the file by clicking in the "Input Fitness Function" button.<br><br>

<div style="text-align: center;">
    <img class="centerImg" src="../images/interface3.png" alt="interface1" style="width:70%;height:500px;">
</div>
<br>

And then, press the continue button.<br><br>

<span style="color: green"> >>> </span><span style="color: yellow">Step 2 - Reviewing the configuration</span><br><br>

With the configuration files all set up, in this step is showed in the terminal a summary of the configurations. So it is time to take a look and see if it is 
everything as expected with the configuration. <br><br>

<div style="text-align: center;">
    <img class="centerImg" src="../images/interface4.png" alt="interface1" style="width:70%;height:500px;">
</div>
<br>

If is everything ok press continue, if not press reset and restart the from the step 1.<br><br>

<span style="color: green"> >>> </span><span style="color: yellow">Step 3 - Checking the results</span><br><br>

If you pressed continue in the step 2, the optimaztion process will start. After the process finish, it will be showed in the terminal the results.<br><br>

<div style="text-align: center;">
    <img class="centerImg" src="../images/interface5.png" alt="interface1" style="width:70%;height:500px;">
</div>
<br>

Check it and if you want to redo the experiment or do any other experiment just press the reset button and we come back to the step 1.

<br><br>
<span style="color: green"> > </span><span style="color: yellow">Running via command line</span><br><br>

We have also the option to run the framework whitout the graphical interface, directly on the terminal. To do that we just need to include the parameter "-i 0" after the command to run the framework in order to
not initialize the interface.<br><br>

We just need to have in mind that if we are running via command line, it is needed to set the configuration files beforehand, beucase once we run the commando to run the framework the optimization process will start
directly. The commando then becomes: <br>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ./app.sh -i 0</span><br>
    	</code>
    	<hr>
	</div>
    <br>
    However, during the experiments it may be convenient to have the files of different configurations 
(instances) of the algorithms in specific directories. 
Therefore, it is possible to specify the path where the configuration files are located, and this becomes the default path during the execution of the algorithm. To do so, just add the 
<i>-p</i> argument when calling the framework script, like this:

	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ./app.sh -i 0 -p <i>PATH</i></span><br>
    	</code>
    	<hr>
	</div>
	<span class="sectionTitle"> * This also works in the same way for the graphical interface mode</span>


</div>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="data" class="sectionTitle"> Data</span>
</div>
<div id="divSynopsis"> 
The files generated during the optimization time, as well the plots and the metrics, are going to be in the path defined in the <i>frameConfig.ini</i> file.

The files will be saved in:
<br>
<br>
<b><i><span style="color:white">AbEC/experiments/&lt;NAME-OF-THE-ALGORITHM&gt/YYYY-MM-DD/mm-ss/</span></i></b>
<br><br>
Where <i>YYYY, MM, DD, mm, ss</i> are the year, month, day, minute and second, respectivetely, of the moment in which the algorithm started to run.<br><br>

And the files generated are:
<ul>
	<li><b><span style="color:white">algoConfig.ini:</span></b> Copy of the algoConfig.ini file used in the runs.</li>
	<li><b><span style="color:white">frameConfig.ini:</span></b> Copy of the frameConfig.ini file used in the runs.</li>
	<li><b><span style="color:white">problemConfig.ini:</span></b> Copy of the problemConfig.ini file used in the runs.</li>
	<li><b><span style="color:white">results/results.csv:</span></b> CSV file containing the summary of the results and the metrics.</li>
	<li><b><span style="color:white">results/readme.txt:</span></b> A text file with the output of the experiment.</li>
	<li><b><span style="color:white">results/ecMean.csv:</span></b> CSV file containing the current error data. *(Only if NRUNS > 1)</li>
	<li><b><span style="color:white">results/ecMean.png:</span></b> Curve of the current error. *(Only if NRUNS > 1)</li>
	<li><b><span style="color:white">results/eoMean.csv</span></b> CSV file containing the current error data. *(Only if NRUNS > 1)</li>
	<li><b><span style="color:white">results/eoMean.png:</span></b> Curve of the offline error. *(Only if NRUNS > 1)</li>
	<li><b><span style="color:white">results/XXXX/&lt;NAME-OF-THE-ALGORITHM&gt;_YYYYMMDD_HHmm_XXXX_SEED_RUN.csv>:</span></b> CSV file containing the performance data of the run XXXX.</li>
	<li><b><span style="color:white">results/XXXX/&lt;NAME-OF-THE-ALGORITHM&gt;_YYYYMMDD_HHmm_XXXX__SEED_LOGALL.csv>:</span></b> CSV file containing the all data of the run XXXX. *Optional</li>
	<li><b><span style="color:white">results/XXXX/&lt;NAME-OF-THE-ALGORITHM&gt;_YYYYMMDD_HHmm_XXXX__SEED_OPTIMA.csv>:</span></b> CSV file containing the optima points of the run XXXX. *(Only if BENCHMARK)</li>
</ul>

</div>

<div class="myHead">
<span id="myName" >[<span id="dollar">~</span>]</span>$<span id="example" class="sectionTitle"> Example</span>
</div>
<div id="divSynopsis"> 
    As a examples lets define a function that represents the following surface in a 3D space, and we want to minimize, that is, we want to find the coordinates <i>(x, y)</i> that represents the minumum value of the function.
    <br>
    However, before of it, lets create a directory where we want to run our experiements. So we create the directory <i>example1</i> in the directory <b><i>AbEC/experiments/</i></b>.
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> mkdir ../experiments/example1</span><br>
    	</code>
    	<hr>
	</div>
    <br>
    And inside of this directory, we edit our configuration and function files.
    <br>
    Below is how the surface looks like:
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="../images/surfaceFitFunction.png" alt="surface" style="width:100%;height:500px;">
    </div>
    <br>
    Represented by the following equation:
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="../images/surfaceEq.png" alt="surface" style="width:30%;height:150px;">
    </div>
    With <i>A = 10</i> and <i>B = 2</i>.
    So, the <i>function.py</i> file will be like: 
	> <a href="function.py" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../experiments/example1/function.py</span><br>
    	</code>
    	<hr>
	</div>
	<div>
    	<hr>
    	<code>
			<span style="color: green">import</span><span style="color: white"> numpy</span><span style="color: green"> as</span><span style="color: white"> np</span><br>
			<br>
			<span style="color: green">def</span><span style="color: white"> function(x):</span><br>
				&emsp;&emsp;&emsp;  	<span style="color: green">return</span> <span style="color: white">5*x[0]*np.exp(- ( ((x[0])**2) + ((x[1])**2) )/4)</span><br>
			<br>
    	</code>
    	<hr>
	</div>
    <br>

    And now we need to set the configuration files. For the example lets use a classical PSO algorithm, without any components.
<br><br>
	<span style="color: green"> > </span><span style="color: yellow">algoConfig.ini</span><br><br>
    Starting with the <i>algoConfig.ini</i>, we are just going to set the optimizer to perform PSO and the rest just leave the default configuration.
So, out file is something like this:

	> <a href="algoConfig2.ini" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../experiments/example1/algoConfig.ini</span><br>
    	</code>
    	<hr>
	</div>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"ALGORITHM": "PSO",</span> <br>
	<span style="color: white">"POPSIZE": 30,</span><br>
	<span style="color: white">"MIN_POS": -10,</span><br>
	<span style="color: white">"MAX_POS": 10,</span><br>
	<span style="color: white">"PSO_POP_PERC": 1,</span><br>
	<span style="color: white">"PSO_PHI1": 2.05,</span><br>
	<span style="color: white">"PSO_PHI2": 2.05,</span><br>
	<span style="color: white">"PSO_W": 0.729,</span><br>
	<span style="color: white">"PSO_MIN_VEL": -10,</span><br>
	<span style="color: white">"PSO_MAX_VEL": 10</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

    <br>
	<span style="color: green"> > </span><span style="color: yellow">frameConfig.ini</span><br><br>
    In the <i>frameConfig.ini</i> we are just going to edit the number of evaluations in the parameter <i>"FINISH_RUN_MODE_VALUE"</i>.
    The file is something like this:

	> <a href="frameConfig2.ini" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../experiments/example1/frameConfig.ini</span><br>
    	</code>
    	<hr>
	</div>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"RUNS": 10,</span> <br>
	<span style="color: white">"FINISH_RUN_MODE": 0,</span><br>
	<span style="color: white">"FINISH_RUN_MODE_VALUE": 600,</span><br>
	<span style="color: white">"SEED": 42</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

    <br>
	<span style="color: green"> > </span><span style="color: yellow">problemConfig.ini</span><br><br>
    Starting with the <i>algoConfig.ini</i>, we are just going to set the optimizer to perform PSO and the rest just leave the default configuration.
So, out file is something like this:

	> <a href="problemConfig2.ini" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../experiments/example1/problemConfig.ini</span><br>
    	</code>
    	<hr>
	</div>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"BENCHMARK": "CUSTOM",</span> <br>
	<span style="color: white">"NDIM": 2,</span><br>
	<span style="color: white">"FUNCTION": "function.py"</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>

    <br><br>
    Once everything is configured, lets run!
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ./app.sh -i 0 -p ../experiments/example1</span><br>
    	</code>
    	<hr>
	</div>
    <br>
    The output will be something like this:
	<div id="list">
		<p><iframe src="readme.txt" frameborder="0" height="400" style="font-size: 10px; color: #EEEEEC; background: darkgreen;"
		width="70%"></iframe></p>
	</div>

    <br>
    Where we can see that our solution is something around <span style="color: white"><b><i>x&sime;-1.41</i></b></span> and <span style="color: white"><b><i>y&sime;-0.01</b></i></span>.
    <br>
    And to see the files generated by running the algorithm:
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ls ../experiments/example1</span><br>
    	</code>
    	<hr>
	</div>
	<div>
    	<hr>
    	<code>
        <span style="color: white; font-size: 13px">algoConfig.ini     frameConfig.ini     problemConfig.ini     <span id="dollar" >results</span> </span><br>
    	</code>
    	<hr>
	</div>
    <br><br>
	We may want to take a look in the images generated:
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> open ../experiments/example1/results/ecMean.png</span><br>
    	</code>
    	<hr>
	</div>
	<br>
	<div style="text-align: center;">
        <img class="centerImg" src="../images/PSO-EX-1.png" alt="pso example 1" style="width:100%;height:600px;">
    </div>

    Congratulations!! you now have runned the algorithm on the problem that you defined. 

    <h3 style="color:green">>> ALTERNATIVE <<</h3>

    For this example, as is a differentiable function, we could find the minimum points algebraically using the derivatives. For this, we just need to set the first derivative of the function equal to zero.
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="../images/min1.png" alt="surface" style="width:40%;height:90px;">
    </div>
    <br>
    As is a multivariate function, we need to perform the partial derivative for each variable, and then set to zero to find the values, just like this:
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="../images/min2.png" alt="surface" style="width:40%;height:100px;">
    </div>
    <br>
    In our case:
    <br>
    <div style="text-align: center;">
        <img class="centerImg" src="../images/min3.png" alt="surface" style="width:35%;height:75px;">
    </div>
    <div style="text-align: center;">
        <img class="centerImg" src="../images/min4.png" alt="surface" style="width:35%;height:75px;">
    </div>
    <br>
    And then, now we know the the optimal points are:
    <div style="text-align: center;">
        <img class="centerImg" src="../images/min5.png" alt="surface" style="width:20%;height:60px;">
    </div>
    <br>
    And then the <i>functionAlt.py</i> it would be something like:
	> <a href="functionAlt.py" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../experiments/example1/functionAlt.py</span><br>
    	</code>
    	<hr>
	</div>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">import</span><span style="color: white"> numpy</span><span style="color: green"> as</span><span style="color: white"> np</span><br>
        <br>
        <span style="color: white">optimal = [-np.sqrt(2), 0]</span><br>
        <br>
    	<span style="color: green">def</span><span style="color: white"> equation(s):</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: green">return</span> <span style="color: white"> return 5*s[0]*np.exp(- ( ((s[0])**2) + ((s[1])**2) )/4)</span><br>
        <br>
    	<span style="color: green">def</span><span style="color: white"> function(x):</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: white"> opt = equation(optimal)</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: white"> fit = equation(x)</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: white"> error = abs(opt - fit)</span><br>
            &emsp;&emsp;&emsp;  	<span style="color: green">return</span> <span style="color: white"> error</span><br>  
    	</code>
    	<hr>
	</div>
    <br>
	As we changed the the fitness function file, we need to change in the problemConfig.ini:<br>
	> <a href="problemConfigAlt.ini" target="_blank">[ file ]</a>
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> nano ../experiments/example1/problemConfig.ini</span><br>
    	</code>
    	<hr>
	</div>
	<div>
	<hr>
	<code>
	<span style="color: white">{</span><br>
	<span style="color: white">"BENCHMARK": "CUSTOM",</span> <br>
	<span style="color: white">"NDIM": 2,</span><br>
	<span style="color: white">"FUNCTION": "functionAlt.py"</span><br>
	<span style="color: white">}</span><br>
	</code>
	<hr>
	</div>
	<br>
	Running again:
	<div>
    	<hr>
    	<code>
    	<span style="color: green">$</span><span id="dollar"> ./app.sh -i 0 -p ../experiments/example1</span><br>
    	</code>
    	<hr>
	</div>
	<br>
    The output will be something like this:
	<div id="list">
		<p><iframe src="readmeAlt.txt" frameborder="0" height="400" style="font-size: 10px; color: #EEEEEC; background: darkgreen;"
		width="70%"></iframe></p>
	</div>
	<br>
	And the graphic:
	<br>
	<div style="text-align: center;">
        <img class="centerImg" src="../images/PSO-EX-2.png" alt="pso example 2" style="width:100%;height:600px;">
    </div>
    <br>
    <br>
    That's all folks ... for today :)<br>
    ---------------------------------------------------------------------------------------------
</div>


<span style="color: white">Be free to use this framework.</span><br>
<span style="color: green">AbEC Â© 2023.</span>

<div class="myHead"><blink></blink></div>
</div>

</pre>
</section>
</body>
</html>
